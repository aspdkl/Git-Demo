# Git提交规范

## 文档信息
- **作者**：黄畅修（主程序）
- **创建时间**：2025-07-13
- **版本**：v1.0
- **项目**：繁星Demo
- **团队规模**：10人程序组

## 概述

本文档定义了繁星Demo项目的Git提交规范，所有团队成员必须严格遵循这些标准，以确保版本控制的一致性和团队协作的高效性。

### 项目统计
- **核心代码文件**：18个文件，7570行C#代码
- **技术文档**：5个核心文档文件
- **回顾文档**：27个详细开发记录
- **配置文件**：完整的.gitignore（176行）

## 1. 提交信息格式

### 基本格式
```
<类型>(<范围>): <描述>

<详细说明>

<相关Issue>
```

### 示例
```
feat(managers): 实现GameManager核心功能

- 添加游戏状态管理
- 实现场景切换逻辑
- 支持游戏暂停和恢复
- 添加完整的生命周期管理

Closes #123
```

## 2. 提交类型

### 主要类型
- **init**: 项目初始化
- **feat**: 新功能开发
- **fix**: Bug修复
- **docs**: 文档更新
- **style**: 代码格式调整（不影响功能）
- **refactor**: 代码重构
- **perf**: 性能优化
- **test**: 测试相关
- **chore**: 构建过程或辅助工具变动
- **release**: 版本发布

### 类型使用指南
- **init**: 仅用于项目初始化
- **feat**: 任何新功能或特性添加
- **fix**: Bug修复和错误纠正
- **docs**: 任何文档变更
- **refactor**: 不改变功能的代码重构

## 3. 范围定义

### 架构范围
- **core**: 核心架构组件
- **managers**: 管理器层（8个管理器类）
- **systems**: 系统层（3个系统文件）
- **data**: 数据层（6个数据类）
- **player**: 玩家组件层

### 功能范围
- **ui**: 用户界面组件
- **config**: 配置文件
- **build**: 构建和部署相关
- **tools**: 开发工具和实用程序

### 文档范围
- **docs**: 技术文档
- **readme**: 项目README更新
- **api**: API参考文档

## 4. 分阶段提交标准

### 第一阶段：核心架构
```
init(core): 初始化繁星Demo项目核心架构

- 完成主体游戏架构（18个核心文件，7570行代码）
- 实现完整的管理器体系（8个管理器）
- 建立系统架构基础（3个系统文件）
- 完成数据结构设计（6个数据类，25个枚举）
- 实现事件驱动架构和智能属性系统

架构完成度：100%
设计模式：单例、观察者、模板方法、策略、工厂、组合
```

### 第二阶段：功能开发
```
feat(systems): 实现NPC交互系统

- 添加NPCManager进行NPC生命周期管理
- 实现对话树解析功能
- 支持多分支对话选择
- 添加对话历史记录
- 与EventManager集成进行系统通信

Closes #45
```

## 5. 质量保证

### 提交前检查清单
- [ ] 代码编译成功
- [ ] 遵循编码标准（coding-standards.md）
- [ ] 包含必要的注释和文档
- [ ] 更新相关文档
- [ ] 提交信息遵循标准
- [ ] 解决所有合并冲突
- [ ] 通过所有现有测试

### 代码审查要求
- **功能性**：确保功能实现完整
- **代码质量**：遵循项目编码标准
- **性能**：避免性能问题
- **安全性**：检查安全漏洞
- **文档**：确保文档已更新

## 6. 团队协作标准

### 多开发者工作流
1. **创建功能分支**：`git checkout -b feature/npc-system-zhangsan`
2. **定期提交**：所有提交都遵循提交标准
3. **与develop同步**：定期从develop分支合并
4. **拉取请求**：创建带详细描述的PR
5. **代码审查**：至少需要一个审查者批准
6. **合并**：压缩合并到develop分支

## 7. 示例和最佳实践

### 良好提交示例
```
feat(managers): 添加SkillManager技能学习系统
fix(data): 解决PlayerAttributes计算错误
docs(readme): 更新安装说明
refactor(systems): 从PlayerSystem提取公共接口
perf(managers): 优化AttributeManager缓存机制
```

### 不良提交示例
```
更新内容                    # 太模糊
修复了bug                  # 不够描述性
为玩家添加了新功能          # 缺少范围和细节
WIP                       # 不够信息化
```

## 8. 执行和监控

### 提交质量指标
- **信息合规性**：100%遵循格式标准
- **描述质量**：有意义和详细的描述
- **范围准确性**：正确的范围分配
- **审查覆盖率**：所有提交合并前都经过审查

### 团队培训
- **入职培训**：新团队成员必须审查此文档
- **定期审查**：每月审查提交质量
- **最佳实践分享**：在团队会议中分享良好提交示例
- **工具培训**：Git工具和提交信息编辑器培训

## 总结

此Git提交规范确保：

### 优势
1. **清晰历史**：易于理解项目演进
2. **团队效率**：通过提交标准化沟通
3. **质量保证**：一致的代码审查和文档
4. **自动化支持**：支持自动化工具和工作流
5. **知识传承**：新团队成员易于上手

### 实施
- **立即采用**：所有团队成员从现在开始必须遵循
- **工具集成**：Git钩子和验证工具
- **定期监控**：每周提交质量审查
- **持续改进**：基于团队反馈定期更新

如有疑问或需要澄清，请联系主程序。
